(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{21:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){e.exports={Content:"Layout_Content__-HMbW"}},51:function(e,t,a){e.exports={Modal:"Modal_Modal__1a2OZ"}},52:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__1kjZI"}},55:function(e,t,a){e.exports=a(89)},60:function(e,t,a){},78:function(e,t,a){},82:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(46),c=a.n(l),o=a(7),s=(a(60),a(3)),i=a(4),m=a(6),u=a(5),p=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Welcome to home "))}}]),a}(n.Component),g=a(47),d=a.n(g).a.create({baseURL:"http://localhost:5000",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),h=a(53),E=(a(78),a(12)),f=Object(E.a)(),v=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDepartmentClick=function(e){console.log(e);var t=n.props.data.filter((function(t){return t.department===e}));console.log(t),console.log("hello"),n.setState({users:t,department:e,user:"Now Select user"})},n.onUserClick=function(e){console.log(e),n.setState({user:e})},n.onTextAreaChange=function(e){console.log(e.target.value),n.setState({msg:e.target.value})},n.onSubmit=function(e){var t={department:n.state.department,msg:n.state.msg,respectiveUsername:n.state.user};d.post("/form/Add/".concat(n.props.username),t).then((function(e){console.log(e.data),f.push("/")}))},n.state={users:[],user:"Select Department First",department:"Select Respective Department",respectiveUsername:"",msg:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=Object(h.a)(new Set(this.props.data.map((function(e){return e.department})))).map((function(t){return r.a.createElement("p",{class:"dropdown-item",onClick:function(){return e.onDepartmentClick(t)}},t)})),a=this.state.users.map((function(t){return r.a.createElement("p",{class:"dropdown-item",onClick:function(){return e.onUserClick(t.username)},href:"#"},t.username)}));return r.a.createElement("div",{className:"form"},r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{class:"btn btn-info "},"Created By")),r.a.createElement("li",{class:"list-group-item list-group-item"},this.props.username)),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{class:"btn btn-dark dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Departments"),r.a.createElement("div",{class:"dropdown-menu"},t)),r.a.createElement("li",{class:"list-group-item list-group-item"},this.state.department)),r.a.createElement("div",{class:"input-group mb-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{class:"btn btn-dark dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Users"),r.a.createElement("div",{class:"dropdown-menu"},a)),r.a.createElement("li",{class:"list-group-item list-group-item"},this.state.user)),r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{class:"input-group-text"},"Message")),r.a.createElement("textarea",{class:"form-control","aria-label":"With textarea",rows:"3",onChange:this.onTextAreaChange})),r.a.createElement("div",{className:"submit"},r.a.createElement("button",{type:"button",class:"btn btn-success btn-lg",onClick:this.onSubmit},"Submit Request")))}}]),a}(n.Component),b=a(48),w=a.n(b),C=function(){return r.a.createElement("div",{className:w.a.Loader},"Loading...")},y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={username:"",userdata:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=localStorage.getItem("username");var a;a=localStorage.getItem("department"),this.setState({username:e}),d.get("/user/getData/".concat(a)).then((function(e){console.log(e.data),t.setState({userdata:e.data.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=r.a.createElement(C,null);return this.state.userdata.length>0&&(e=r.a.createElement(v,{username:this.state.username,data:this.state.userdata})),r.a.createElement(r.a.Fragment,null,e)}}]),a}(n.Component),k=(a(21),a(103)),j=a(106),S=a(107),O=a(101),N=a(104),x=a(105),U=a(102),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onAcceptClick=function(){},n.onRejectClick=function(){},n.state={data:[],loading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=localStorage.getItem("username"),d.get("/form/pending/".concat(e)).then((function(e){console.log(e.data.data),t.setState({data:e.data.data,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=r.a.createElement(C,null);return this.state.data.length>0?e=r.a.createElement(O.a,{className:"tablecss",component:U.a},r.a.createElement(k.a,{className:"table ",size:"small","aria-label":"a dense table"},r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,"Created By"),r.a.createElement(S.a,{align:"right"},"Department"),r.a.createElement(S.a,{align:"right"},"Respective user"),r.a.createElement(S.a,{align:"right"},"Message"),r.a.createElement(S.a,{align:"right"},"Status"))),r.a.createElement(j.a,null,this.state.data.map((function(e){return r.a.createElement(x.a,{key:e._id},r.a.createElement(S.a,{component:"th",scope:"row"},e.username),r.a.createElement(S.a,{align:"right"},e.department),r.a.createElement(S.a,{align:"right"},e.respectiveUsername),r.a.createElement(S.a,{align:"right"},e.msg),r.a.createElement(S.a,{align:"right"},e.status))}))))):0!=this.state.data.length||this.state.loading||(e=r.a.createElement("h1",null,"No Data Available")),r.a.createElement(r.a.Fragment,null,e)}}]),a}(n.Component),D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onAcceptClick=function(){},n.onRejectClick=function(){},n.state={data:[],loading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=localStorage.getItem("username"),d.get("/form/approved/".concat(e)).then((function(e){console.log(e.data.data),t.setState({data:e.data.data,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=r.a.createElement(C,null);return this.state.data.length>0?e=r.a.createElement(O.a,{className:"tablecss",component:U.a},r.a.createElement(k.a,{className:"table ",size:"small","aria-label":"a dense table"},r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,"Created By"),r.a.createElement(S.a,{align:"right"},"Department"),r.a.createElement(S.a,{align:"right"},"Respective user"),r.a.createElement(S.a,{align:"right"},"Message"),r.a.createElement(S.a,{align:"right"},"Status"))),r.a.createElement(j.a,null,this.state.data.map((function(e){return r.a.createElement(x.a,{key:e._id},r.a.createElement(S.a,{component:"th",scope:"row"},e.username),r.a.createElement(S.a,{align:"right"},e.department),r.a.createElement(S.a,{align:"right"},e.respectiveUsername),r.a.createElement(S.a,{align:"right"},e.msg),r.a.createElement(S.a,{align:"right"},e.status))}))))):0!=this.state.data.length||this.state.loading||(e=r.a.createElement("h1",null,"No Data Available")),r.a.createElement(r.a.Fragment,null,e)}}]),a}(n.Component),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onAcceptClick=function(e){var t;t=localStorage.getItem("username");var a={respectiveUsername:e,status:"Approved"};d.patch("/form/changeStatus/".concat(t),a).then((function(e){return console.log(e.data)})),window.location.reload()},n.onRejectClick=function(e){var t;t=localStorage.getItem("username");var a={respectiveUsername:e,status:"Rejected"};d.patch("/form/changeStatus/".concat(t),a).then((function(e){return console.log(e.data)})),window.location.reload()},n.state={data:[],loading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=localStorage.getItem("username"),d.get("/form//penApprovel/".concat(e)).then((function(e){console.log(e.data.data),t.setState({data:e.data.data,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(C,null);return this.state.data.length>0?t=r.a.createElement(O.a,{className:"tablecss",component:U.a},r.a.createElement(k.a,{className:"table ",size:"small","aria-label":"a dense table"},r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,"Created By"),r.a.createElement(S.a,{align:"right"},"Department"),r.a.createElement(S.a,{align:"right"},"Respective user"),r.a.createElement(S.a,{align:"right"},"Message"),r.a.createElement(S.a,{align:"right"},"Status"),r.a.createElement(S.a,{align:"right"},"Accept/Reject"))),r.a.createElement(j.a,null,this.state.data.map((function(t){return r.a.createElement(x.a,{key:t._id},r.a.createElement(S.a,{component:"th",scope:"row"},t.username),r.a.createElement(S.a,{align:"right"},t.department),r.a.createElement(S.a,{align:"right"},t.respectiveUsername),r.a.createElement(S.a,{align:"right"},t.msg),r.a.createElement(S.a,{align:"right"},t.status),r.a.createElement(S.a,{align:"right"},r.a.createElement("button",{class:"btn btn-primary",onClick:function(){return e.onAcceptClick(t.username)}},"Accept")," ",r.a.createElement("button",{class:"btn btn-danger",onClick:function(){return e.onRejectClick(t.username)}},"Reject")))}))))):0!=this.state.data.length||this.state.loading||(t=r.a.createElement("h1",null,"No Data Available")),r.a.createElement(r.a.Fragment,null,t)}}]),a}(n.Component),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onAcceptClick=function(){},n.onRejectClick=function(){},n.state={data:[],loading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;e=localStorage.getItem("username"),d.get("/form/rejected/".concat(e)).then((function(e){console.log(e.data.data),t.setState({data:e.data.data,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=r.a.createElement(C,null);return this.state.data.length>0?e=r.a.createElement(O.a,{className:"tablecss",component:U.a},r.a.createElement(k.a,{className:"table ",size:"small","aria-label":"a dense table"},r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,"Created By"),r.a.createElement(S.a,{align:"right"},"Department"),r.a.createElement(S.a,{align:"right"},"Respective user"),r.a.createElement(S.a,{align:"right"},"Message"),r.a.createElement(S.a,{align:"right"},"Status"))),r.a.createElement(j.a,null,this.state.data.map((function(e){return r.a.createElement(x.a,{key:e._id},r.a.createElement(S.a,{component:"th",scope:"row"},e.username),r.a.createElement(S.a,{align:"right"},e.department),r.a.createElement(S.a,{align:"right"},e.respectiveUsername),r.a.createElement(S.a,{align:"right"},e.msg),r.a.createElement(S.a,{align:"right"},e.status))}))))):0!=this.state.data.length||this.state.loading||(e=r.a.createElement("h1",null,"No Data Available")),r.a.createElement(r.a.Fragment,null,e)}}]),a}(n.Component),R=(a(82),a(19)),M=function(e){var t=r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-success my-2 my-sm-0 ml-2",onClick:e.SignUp},"Signup"),r.a.createElement("button",{type:"button",className:"btn btn-outline-success my-2 my-sm-0 mx-2",onClick:e.SignIn},"Login"));return e.authenticated&&(t=r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(R.a,{className:"nav-link",to:"/form",exact:!0},"Form")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(R.a,{className:"nav-link",to:"/pending",exact:!0},"Pending")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(R.a,{className:"nav-link",to:"/approved",exact:!0},"Approved")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(R.a,{className:"nav-link",to:"/rejected",exact:!0},"Rejected")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(R.a,{className:"nav-link",to:"/reqapprove",exact:!0},"Requested (for Approvel)")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("i",{class:"fa fa-bell","aria-hidden":"true"}))),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary my-2 my-sm-0 mx-2",onClick:function(){console.log("logout"),localStorage.clear(),sessionStorage.clear(),window.location.reload(),f.push("/")}},"Logout"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light",style:{backgroundColor:"#e3f2fd"}},r.a.createElement(R.a,{className:"navbar-brand",to:"/",exact:!0},"SWITCHON"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},t)))},_=a(49),B=a.n(_),T=a(34),P=a.n(T),V=a(50),H=a(24),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",err:""},e.onChangeValue=function(t){e.setState(Object(H.a)({},t.target.name,t.target.value))},e.SignIn=function(){var t=Object(V.a)(P.a.mark((function t(a){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={username:e.state.username.trim(),password:e.state.password.trim()},t.next=4,d.post("/user/login",n).then((function(t){console.log(t.data),localStorage.setItem("authenticate",1),localStorage.setItem("username",e.state.username),localStorage.setItem("department",t.data.data.department),window.location.reload()})).catch((function(t){console.log(t),e.setState({err:"Username/Password is incoorect"})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{style:{color:"red"}},this.state.err),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Username:"),r.a.createElement("input",{className:"form-control",name:"username",onChange:this.onChangeValue})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",id:"pwd",name:"password",onChange:this.onChangeValue})),r.a.createElement("button",{className:"btn btn-success",onClick:this.SignIn},"Submit")))}}]),a}(n.Component),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",department:"",confirmPassword:"",errmsg:""},e.onChangeValue=function(t){e.setState(Object(H.a)({},t.target.name,t.target.value))},e.SignUp=function(t){t.preventDefault();var a="";if(e.state.confirmPassword.trim()!==e.state.password.trim())t.preventDefault(),a="password should be same",e.setState({errmsg:a});else{var n={username:e.state.username.trim(),department:e.state.department.trim().toLowerCase(),password:e.state.password.trim()};d.post("/user/register",n).then((function(t){console.log(t.data),localStorage.setItem("authenticate",1),localStorage.setItem("username",e.state.username),localStorage.setItem("department",e.state.department),window.location.reload()})).catch((function(t){console.log(t),e.setState({errmsg:"Username already taken"})}))}},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"username",className:"form-control",id:"username",name:"username",onChange:this.onChangeValue})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"department"},"Department:"),r.a.createElement("input",{type:"department",className:"form-control",id:"department",name:"department",onChange:this.onChangeValue})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",id:"pwd",name:"password",onChange:this.onChangeValue})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd1"},"Confirm Password:"),r.a.createElement("input",{type:"password",className:"form-control",id:"pwd1",name:"confirmPassword",onChange:this.onChangeValue})),r.a.createElement("button",{className:"btn btn-success",onClick:this.SignUp},"Submit")),r.a.createElement("h6",{style:{color:"red"}},this.state.errmsg))}}]),a}(n.Component),q=a(51),z=a.n(q),J=a(52),Y=a.n(J),Z=function(e){return e.show?r.a.createElement("div",{className:Y.a.Backdrop,onClick:e.clicked}):null},$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:z.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(n.Component),G=function(e){var t=null;return"signup"===e.pageType&&e.pageShow?t=r.a.createElement($,{show:e.pageShow,modalClosed:e.popUpCancelHandler},r.a.createElement(W,null)):"signin"===e.pageType&&e.pageShow&&(t=r.a.createElement($,{show:e.pageShow,modalClosed:e.popUpCancelHandler},r.a.createElement(L,null))),r.a.createElement(r.a.Fragment,null,t," ")},K=function(e){return function(t){Object(m.a)(n,t);var a=Object(u.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).state={authenticated:!1,username:""},t}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e,t;t=localStorage.getItem("authenticate"),e=localStorage.getItem("username"),console.log(t),t&&""!==t&&this.setState({authenticated:!0,username:e})}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.props,{authenticated:this.state.authenticated,username:this.state.username}))}}]),n}(n.Component)}(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={pageType:"",pageShow:!1},e.signInbuttonClick=function(){e.setState({pageType:"signin",pageShow:!0})},e.signUpbuttonClick=function(){e.setState({pageType:"signup",pageShow:!0})},e.popUpCancelHandler=function(){e.setState({pageShow:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{SignIn:this.signInbuttonClick,SignUp:this.signUpbuttonClick,authenticated:this.props.authenticated,username:this.props.username}),r.a.createElement(G,{pageShow:this.state.pageShow,popUpCancelHandler:this.popUpCancelHandler,pageType:this.state.pageType}),r.a.createElement("main",{className:B.a.Content},this.props.children))}}]),a}(n.Component)),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/home",exact:!0,component:p}),r.a.createElement(o.a,{path:"/form",exact:!0,component:y}),r.a.createElement(o.a,{path:"/pending",exact:!0,component:I}),r.a.createElement(o.a,{path:"/approved",exact:!0,component:D}),r.a.createElement(o.a,{path:"/rejected",exact:!0,component:F}),r.a.createElement(o.a,{path:"/reqapprove",exact:!0,component:A}),r.a.createElement(o.a,{path:"/",exact:!0,component:p}))))}}]),a}(n.Component);a(85),a(86),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=r.a.createElement(o.b,{history:f},r.a.createElement(Q,null));c.a.render(X,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.1d4385c1.chunk.js.map